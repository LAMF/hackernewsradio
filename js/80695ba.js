(function(b){function l(b){return b.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")}function m(b){return b.replace(/(:|\.)/g,"\\$1")}var n=l(location.pathname),o=function(c){var e=[],a=!1,d=c.dir&&c.dir=="left"?"scrollLeft":"scrollTop";this.each(function(){if(!(this==document||this==window)){var c=b(this);c[d]()>0?e.push(this):(c[d](1),a=c[d]()>0,c[d](0),a&&e.push(this))}});c.el==="first"&&e.length&&(e=[e.shift()]);return e};b.fn.extend({scrollable:function(b){return this.pushStack(o.call(this,
{dir:b}))},firstScrollable:function(b){return this.pushStack(o.call(this,{el:"first",dir:b}))},smoothScroll:function(c){var c=c||{},e=b.extend({},b.fn.smoothScroll.defaults,c);this.die("click.smoothscroll").live("click.smoothscroll",function(a){var d={},c=b(this),g=location.hostname===this.hostname||!this.hostname,f=e.scrollTarget||(l(this.pathname)||n)===n,i=m(this.hash),h=!0;if(!e.scrollTarget&&(!g||!f||!i))h=!1;else{for(var g=e.exclude,f=0,k=g.length;h&&f<k;)c.is(m(g[f++]))&&(h=!1);g=e.excludeWithin;
f=0;for(k=g.length;h&&f<k;)c.closest(g[f++]).length&&(h=!1)}h&&(a.preventDefault(),b.extend(d,e,{scrollTarget:e.scrollTarget||i,link:this}),b.smoothScroll(d))});return this}});b.smoothScroll=function(c,e){var a,d,j,g=0;d="offset";var f="scrollTop",i={};typeof c==="number"?(a=b.fn.smoothScroll.defaults,j=c):(a=b.extend({},b.fn.smoothScroll.defaults,c||{}),a.scrollElement&&(d="position",a.scrollElement.css("position")=="static"&&a.scrollElement.css("position","relative")),j=e||b(a.scrollTarget)[d]()&&
b(a.scrollTarget)[d]()[a.direction]||0);a=b.extend({link:null},a);f=a.direction=="left"?"scrollLeft":f;a.scrollElement?(d=a.scrollElement,g=d[f]()):d=b("html, body").firstScrollable();i[f]=j+g+a.offset;b.isFunction(a.beforeScroll)&&a.beforeScroll.call(d,a);d.animate(i,{duration:a.speed,easing:a.easing,complete:function(){a.afterScroll&&b.isFunction(a.afterScroll)&&a.afterScroll.call(a.link,a)}})};b.smoothScroll.version="1.4.1";b.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",
scrollElement:null,scrollTarget:null,beforeScroll:null,afterScroll:null,easing:"swing",speed:400}})(jQuery);
var SmokeEffect={imgLocation:"",smokeWidth:80,smokeHeight:45,smokePos:[],makeEffect:function(b,a,c){SmokeEffect.smokePos[b]=[];SmokeEffect.smokePos[b].x=a;SmokeEffect.smokePos[b].y=c;a=Math.floor(Math.random()*3001);setTimeout("SmokeEffect.animate('"+b+"')",a)},animate:function(b){var a=document.createElement("IMG");$(a).attr("src",SmokeEffect.imgLocation);$(a).attr("alt","puff");$(a).attr("class","puff");var c="puff"+Math.floor(Math.random()*1001);$(a).attr("id",c);$(document.body).append($(a));
var d=$("#"+b).offset();$(a).css({top:d.top+SmokeEffect.smokePos[b].y+"px",left:d.left+SmokeEffect.smokePos[b].x+"px",zIndex:25,opacity:0.4});$(a).animate({width:SmokeEffect.smokeWidth+"px",height:SmokeEffect.smokeHeight+"px",marginLeft:"-"+SmokeEffect.smokeWidth/2+"px",marginTop:"-"+SmokeEffect.smokeHeight*1.5+"px",opacity:0.9},{duration:1500}).animate({marginTop:"-"+SmokeEffect.smokeHeight*3.5+"px",opacity:0},{duration:2500});a=5500+Math.floor(Math.random()*4501);setTimeout("SmokeEffect.animate('"+
b+"')",a);setTimeout("$('#"+c+"').remove()",4200)}};
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log==="object"?log.apply.call(console.log,console,a):console.log.apply(console,a)}};
(function(a){function c(){}for(var d="assert,clear,count,debug,dir,dirxml,error,exception,firebug,group,groupCollapsed,groupEnd,info,log,memoryProfile,memoryProfileEnd,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn".split(","),b;b=d.pop();)a[b]=a[b]||c})(function(){try{return console.log(),window.console}catch(a){return window.console={}}}());
(function(b,a){b(function(){b("a").smoothScroll();b("audio").mediaelementplayer({features:["playpause","current","volume","fullscreen"]});if(a)a.imgLocation="img/smoke.png",a.smokeWidth=130,a.smokeHeight=100,a.makeEffect("smoke",0,0)})})(jQuery,SmokeEffect);
